var urlUsers="http://localhost:8888/db/users.json",urlSeries="http://localhost:8888/db/series.json",urlEvents="http://localhost:8888/db/events.json",userListDropDown=document.getElementById("userList"),saveUserBtn=document.getElementById("saveUserSubmit"),deleteUserBtn=document.getElementById("deleteUserSubmit");saveUserBtn.addEventListener("click",userFetchSaveData),deleteUserBtn.addEventListener("click",userFetchDeleteData);var firstNameEditForm=document.getElementById("editFirstName"),lastNameEditForm=document.getElementById("editLastName"),ageEditForm=document.getElementById("editAge"),emailEditForm=document.getElementById("editEmail"),PBL2EditForm=document.getElementById("editPBL2"),SBEditForm=document.getElementById("editSB"),FAEditForm=document.getElementById("editFA"),MLEditForm=document.getElementById("editML");function userFetch(){var e=new XMLHttpRequest;e.open("GET",urlUsers),e.onload=function(){renderUsersList(JSON.parse(e.responseText))},e.send()}function renderUsersList(e){for(var t="",i=0;i<e.length;i++)t="<option>"+e[i].firstName+" "+e[i].lastName+"</option>",userListDropDown.insertAdjacentHTML("beforeend",t)}function userFetchFormFill(){var e=new XMLHttpRequest;e.open("GET",urlUsers),e.onload=function(){renderUserData(JSON.parse(e.responseText))},e.send()}function renderUserData(e){console.log("User Selected");var t=userListDropDown.selectedIndex-1;for(console.log(t),i=0;i<e.length;i++)if(t==e[i].id){firstNameEditForm.value=e[i].firstName,lastNameEditForm.value=e[i].lastName,ageEditForm.value=e[i].age,emailEditForm.value=e[i].email,PBL2EditForm.checked=e[i].qualifications.PBL2,SBEditForm.checked=e[i].qualifications.SB,FAEditForm.checked=e[i].qualifications.FA,MLEditForm.checked=e[i].qualifications.ML;e[i]}}function userFetchDeleteData(){var e=new XMLHttpRequest;e.open("GET",urlUsers),e.onload=function(){deleteUserData(JSON.parse(e.responseText))},e.send()}function deleteUserData(e){var t=userListDropDown.selectedIndex-1;for(i=0;i<e.length;i++)t==e[i].id&&console.log("Current selected user: "+e[i].firstName+" "+e[i].lastName+" will be deleted.");console.log()}function userFetchSaveData(){var e=new XMLHttpRequest;e.open("GET",urlUsers),e.onload=function(){saveUserData(JSON.parse(e.responseText))},e.send()}function saveUserData(e){var t=userListDropDown.selectedIndex-1;for(i=0;i<e.length;i++)if(t==e[i].id){console.log("Current selected user: "+e[i].firstName+" "+e[i].lastName+" will be saved.");var n=document.getElementById("editFirstName"),s=document.getElementById("editLastName"),o=document.getElementById("editAge"),a=document.getElementById("editEmail"),r=document.getElementById("editPBL2"),d=document.getElementById("editSB"),l=document.getElementById("editFA"),c=document.getElementById("editML");e[i].firstName=n.value,e[i].lastName=s.value,e[i].age=o.value,e[i].email=a.value,e[i].qualifications.PBL2=r.checked,e[i].qualifications.SB=d.checked,e[i].qualifications.FA=l.checked,e[i].qualifications.ML=c.checked;e[i].firstName,e[i].lastName,e[i].age,e[i].email,e[i].qualifications.PBL2,e[i].qualifications.SB,e[i].qualifications.FA,e[i].qualifications.ML}}function eventFetch(){var e=new XMLHttpRequest;e.open("GET",urlEvents),e.onload=function(){var t=JSON.parse(e.responseText);console.log(t[0])},e.send()}function seriesFetch(){var e=new XMLHttpRequest;e.open("GET",urlSeries),e.onload=function(){var t=JSON.parse(e.responseText);console.log(t[0])},e.send()}userFetch();